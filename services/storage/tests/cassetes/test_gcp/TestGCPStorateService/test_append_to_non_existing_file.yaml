interactions:
- request:
    body: assertion=eyJ0eXAiOiAiSldUIiwgImFsZyI6ICJSUzI1NiIsICJraWQiOiAiMzExYTAwMDU1NzNlYzhhNWZiY2QzZDViZTY0ODRkZWEyMWUzN2NkMSJ9.eyJpYXQiOiAxNTY2Mzk2OTUxLCAiZXhwIjogMTU2NjQwMDU1MSwgImlzcyI6ICJjb2RlY292QGdlbnVpbmUtcG9seW1lci0xNjU3MTIuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCAiYXVkIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwgInNjb3BlIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZGV2c3RvcmFnZS5mdWxsX2NvbnRyb2wgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kZXZzdG9yYWdlLnJlYWRfb25seSBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RldnN0b3JhZ2UucmVhZF93cml0ZSJ9.hrdystAddhdQ1KBSGJQbUC6Em4P4lPaivkFPEFK1xd2RsJyqIomYTSr2Y-RoXDOe61iLhMCpJZJ51d24wkJTOJlWBCP7j-w19f2Rc8K7JfnrH2p17wCjpp4wzSHJLzOoaP-YZQqZbni8XeK8Lcln--MFwKxfb7EYSKQwCbPvOMTWe62ciTUleP464RohHKtiD6HEMuRB9ZpM23io0fI-mnYOkJktCztKk09Yw_psppoogZnpd9lTN7DITI7WbGgaxgR0CXc1J5h2uBCA3B5ajrCJiUWNIkS-L3ZCzbOPj6TLxZD18vM-g1bJbzhvXuly2JJyOqQzS2XLlW-qJyi_Hg&grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['959']
      User-Agent: [python-requests/2.20.1]
      content-type: [application/x-www-form-urlencoded]
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/x3Ouw6CMBQA0N2vIJ3VIPVRHUESYlBjiiAupOCFUBBsAaUa/93geqbzGWkaYkkC
        TRO1dQEV2mhIMWM9TaZ2uZDm2xNbwvjdJ57hXOUrPd94G5K9Ek93cQkTlRJJGQHcx8qnMS3rw27v
        L703dXGruqt3qpwZ2cGxEmYdc5z1AkppBwe+WheWOroCLCOs9C4Noltgx0aW2hzPJ7Sz0HjIQf/I
        JTRRPtTwUtf/+r9GrXrAEDaBSZBo9P0Buhbamc8AAAA=
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: [private]
      Content-Encoding: [gzip]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 21 Aug 2019 14:15:51 GMT']
      Server: [scaffolding on HTTPServer2]
      Transfer-Encoding: [chunked]
      Vary: [Origin, X-Origin, Referer]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-XSS-Protection: ['0']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: [gzip]
      Connection: [keep-alive]
      User-Agent: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
      X-Goog-API-Client: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive?projection=noAcl
  response:
    body: {string: "{\n \"kind\": \"storage#bucket\",\n \"id\": \"testingarchive\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive\",\n
        \"projectNumber\": \"testa6bzzpt4\",\n \"name\": \"testingarchive\",\n \"timeCreated\":
        \"2019-08-14T22:57:54.537Z\",\n \"updated\": \"2019-08-14T22:57:54.537Z\",\n
        \"metageneration\": \"1\",\n \"iamConfiguration\": {\n  \"bucketPolicyOnly\":
        {\n   \"enabled\": false\n  },\n  \"uniformBucketLevelAccess\": {\n   \"enabled\":
        false\n  }\n },\n \"location\": \"US\",\n \"locationType\": \"multi-region\",\n
        \"storageClass\": \"STANDARD\",\n \"etag\": \"CAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['private, max-age=0, must-revalidate, no-transform']
      Content-Length: ['525']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 14:15:51 GMT']
      ETag: [CAE=]
      Expires: ['Wed, 21 Aug 2019 14:15:51 GMT']
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2UrffRYiN89vrRDssJDLx-__QHaQ-c_p9PozDZm5DgUH5FtecrTVdFsekZzLmea5L-ty50dj5XMPkhYZSFGrgoB7xe0TQQ]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.20.1]
      accept-encoding: [gzip]
    method: GET
    uri: https://www.googleapis.com/download/storage/v1/b/testingarchive/o/test_append_to_non_existing_file%2Fresult.txt?alt=media
  response:
    body: {string: 'No such object: testingarchive/test_append_to_non_existing_file/result.txt'}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['private, max-age=0']
      Content-Length: ['74']
      Content-Type: [text/html; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 14:15:52 GMT']
      Expires: ['Wed, 21 Aug 2019 14:15:52 GMT']
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2UpnhWFRdcNpQjlIGJN22VHntPzLIfB6zPk0lT2MNGFixarXqLr6q6OHK86t3zI_X127QwrQt5sUG6poPsbIelVDnROSxg]
    status: {code: 404, message: Not Found}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: [gzip]
      Connection: [keep-alive]
      User-Agent: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
      X-Goog-API-Client: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive?projection=noAcl
  response:
    body: {string: "{\n \"kind\": \"storage#bucket\",\n \"id\": \"testingarchive\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive\",\n
        \"projectNumber\": \"testa6bzzpt4\",\n \"name\": \"testingarchive\",\n \"timeCreated\":
        \"2019-08-14T22:57:54.537Z\",\n \"updated\": \"2019-08-14T22:57:54.537Z\",\n
        \"metageneration\": \"1\",\n \"iamConfiguration\": {\n  \"bucketPolicyOnly\":
        {\n   \"enabled\": false\n  },\n  \"uniformBucketLevelAccess\": {\n   \"enabled\":
        false\n  }\n },\n \"location\": \"US\",\n \"locationType\": \"multi-region\",\n
        \"storageClass\": \"STANDARD\",\n \"etag\": \"CAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['private, max-age=0, must-revalidate, no-transform']
      Content-Length: ['525']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 14:15:52 GMT']
      ETag: [CAE=]
      Expires: ['Wed, 21 Aug 2019 14:15:52 GMT']
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2Uo-z0YNcTO7ZNhuwpBl99YJ7qZz00a0G7XzPX9MmFUMUlv50FQ65eGqDWNXKTk3bYjIu0j7YezX1jFmEJPsqWKaPA6W_A]
    status: {code: 200, message: OK}
- request:
    body: "--===============4628611577584160265==\r\ncontent-type: application/json;
      charset=UTF-8\r\n\r\n{\"name\": \"test_append_to_non_existing_file/result.txt\"}\r\n--===============4628611577584160265==\r\ncontent-type:
      text/plain\r\n\r\nmom, look at me, appending data\r\n--===============4628611577584160265==--"
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['287']
      User-Agent: [python-requests/2.20.1]
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT00NjI4NjExNTc3NTg0
        MTYwMjY1PT0i
    method: POST
    uri: https://www.googleapis.com/upload/storage/v1/b/testingarchive/o?uploadType=multipart
  response:
    body: {string: "{\n \"kind\": \"storage#object\",\n \"id\": \"testingarchive/test_append_to_non_existing_file/result.txt/1566396953201051\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive/o/test_append_to_non_existing_file%2Fresult.txt\",\n
        \"name\": \"test_append_to_non_existing_file/result.txt\",\n \"bucket\": \"testingarchive\",\n
        \"generation\": \"1566396953201051\",\n \"metageneration\": \"1\",\n \"contentType\":
        \"text/plain\",\n \"timeCreated\": \"2019-08-21T14:15:53.200Z\",\n \"updated\":
        \"2019-08-21T14:15:53.200Z\",\n \"storageClass\": \"STANDARD\",\n \"timeStorageClassUpdated\":
        \"2019-08-21T14:15:53.200Z\",\n \"size\": \"31\",\n \"md5Hash\": \"0KezyzGusHDoY2IpCrO+Gg==\",\n
        \"mediaLink\": \"https://www.googleapis.com/download/storage/v1/b/testingarchive/o/test_append_to_non_existing_file%2Fresult.txt?generation=1566396953201051&alt=media\",\n
        \"crc32c\": \"hqY4xg==\",\n \"etag\": \"CJuT5K+TlOQCEAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['no-cache, no-store, max-age=0, must-revalidate']
      Content-Length: ['852']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 14:15:53 GMT']
      ETag: [CJuT5K+TlOQCEAE=]
      Expires: ['Mon, 01 Jan 1990 00:00:00 GMT']
      Pragma: [no-cache]
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2Uqyx8wTuu65DihVilGQJ9X37DmX8qUsDTfKDt99A9v2WNJHXMaEsKHZmCMem-M3SdudKyfEixUJRZVJVZKSXlMv731DLw]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: [gzip]
      Connection: [keep-alive]
      User-Agent: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
      X-Goog-API-Client: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive?projection=noAcl
  response:
    body: {string: "{\n \"kind\": \"storage#bucket\",\n \"id\": \"testingarchive\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive\",\n
        \"projectNumber\": \"testa6bzzpt4\",\n \"name\": \"testingarchive\",\n \"timeCreated\":
        \"2019-08-14T22:57:54.537Z\",\n \"updated\": \"2019-08-14T22:57:54.537Z\",\n
        \"metageneration\": \"1\",\n \"iamConfiguration\": {\n  \"bucketPolicyOnly\":
        {\n   \"enabled\": false\n  },\n  \"uniformBucketLevelAccess\": {\n   \"enabled\":
        false\n  }\n },\n \"location\": \"US\",\n \"locationType\": \"multi-region\",\n
        \"storageClass\": \"STANDARD\",\n \"etag\": \"CAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['private, max-age=0, must-revalidate, no-transform']
      Content-Length: ['525']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 14:15:53 GMT']
      ETag: [CAE=]
      Expires: ['Wed, 21 Aug 2019 14:15:53 GMT']
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2UrtrT71cTaBftzUNKEUGzmVIiQphmYlSwf0HGvvK4ROlMk_TT868jO4lH7LPcEAZ6xnLcimn_CZz_VDKFUyG-5dl6rE0Q]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.20.1]
      accept-encoding: [gzip]
    method: GET
    uri: https://www.googleapis.com/download/storage/v1/b/testingarchive/o/test_append_to_non_existing_file%2Fresult.txt?alt=media
  response:
    body: {string: 'mom, look at me, appending data'}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['no-cache, no-store, max-age=0, must-revalidate']
      Content-Disposition: [attachment]
      Content-Length: ['31']
      Content-Type: [text/plain]
      Date: ['Wed, 21 Aug 2019 14:15:53 GMT']
      ETag: [CJuT5K+TlOQCEAE=]
      Expires: ['Mon, 01 Jan 1990 00:00:00 GMT']
      Pragma: [no-cache]
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2UppeonO1gGIkdBJCPy7gPMbxdjlEB1zOuih1EHbrY_x0YgPFzAdiNi-od2UXdjz4qx8vix0tHyiX8OzjQyEOAjcj3P5Fg]
      X-Goog-Generation: ['1566396953201051']
      X-Goog-Hash: ['crc32c=hqY4xg==,md5=0KezyzGusHDoY2IpCrO+Gg==']
      X-Goog-Metageneration: ['1']
      X-Goog-Storage-Class: [STANDARD]
    status: {code: 200, message: OK}
version: 1

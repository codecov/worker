interactions:
- request:
    body: assertion=eyJ0eXAiOiAiSldUIiwgImFsZyI6ICJSUzI1NiIsICJraWQiOiAiMzExYTAwMDU1NzNlYzhhNWZiY2QzZDViZTY0ODRkZWEyMWUzN2NkMSJ9.eyJpYXQiOiAxNTY2Mzk1MTQyLCAiZXhwIjogMTU2NjM5ODc0MiwgImlzcyI6ICJjb2RlY292QGdlbnVpbmUtcG9seW1lci0xNjU3MTIuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCAiYXVkIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwgInNjb3BlIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZGV2c3RvcmFnZS5mdWxsX2NvbnRyb2wgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kZXZzdG9yYWdlLnJlYWRfb25seSBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RldnN0b3JhZ2UucmVhZF93cml0ZSJ9.k2FAstKihi1gV2wwM_wVXgzeIkG6nbcOnkmxsqzZlO7Y-AIYjZxxvVF09NTTNgasBIP1OQ1kkCIBuJOm-JdisJ-CMlaPkt7-1jo9xB_6-XZl7ausC_Rajs0-s0OQvQCdzkcK8UOxgqmvC-enbiY2eqsOlKAK-r0ekqjSy-ySCdV8b9TjYM4ofVp89J3Id6Cb_F3xhleUz81oNuOxH-hNIfFNuCeJHMrO9IQdENurNClUXBOU_x13I8lE5Ymv0CAko9WiYFigIwzwqRyNMtydjiebVJEdMTGVvfXe3qaj6_YwikGiIXJmkQIaQ9aggyk0Jov_i9Rxw_Rm4meVs2zyhg&grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['959']
      User-Agent: [python-requests/2.20.1]
      content-type: [application/x-www-form-urlencoded]
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/x3Ouw6CMBQA0N2vIJ3VEMSKjogvJJAaqI+lwXqRKiiWh1bjvxtcz3Q+HU1DMedQ
        lqy6X+GGJhpSsTHu8/4sG0q7ZwYL65zoET24t0S+wtEgX9M8MEM/zMx9ML1kluPjaaqaxMB+yp+1
        XG13VGyL854lm6WlnJTM6SNsHpzPCDFqzxOjU+w2Kea0biJjdcR5xeDpXFwCxIvuC/Fe97hC3TYH
        r0JIKJloawOs63/9X1mlCmjDNsQSJOp8fyjaOGbPAAAA
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: [private]
      Content-Encoding: [gzip]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 21 Aug 2019 13:45:42 GMT']
      Server: [scaffolding on HTTPServer2]
      Transfer-Encoding: [chunked]
      Vary: [Origin, X-Origin, Referer]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-XSS-Protection: ['0']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: [gzip]
      Connection: [keep-alive]
      User-Agent: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
      X-Goog-API-Client: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive?projection=noAcl
  response:
    body: {string: "{\n \"kind\": \"storage#bucket\",\n \"id\": \"testingarchive\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive\",\n
        \"projectNumber\": \"testa6bzzpt4\",\n \"name\": \"testingarchive\",\n \"timeCreated\":
        \"2019-08-14T22:57:54.537Z\",\n \"updated\": \"2019-08-14T22:57:54.537Z\",\n
        \"metageneration\": \"1\",\n \"iamConfiguration\": {\n  \"bucketPolicyOnly\":
        {\n   \"enabled\": false\n  },\n  \"uniformBucketLevelAccess\": {\n   \"enabled\":
        false\n  }\n },\n \"location\": \"US\",\n \"locationType\": \"multi-region\",\n
        \"storageClass\": \"STANDARD\",\n \"etag\": \"CAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['private, max-age=0, must-revalidate, no-transform']
      Content-Length: ['525']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 13:45:43 GMT']
      ETag: [CAE=]
      Expires: ['Wed, 21 Aug 2019 13:45:43 GMT']
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2UqDPLGNnzxOoq0Noms758xc1mD0akGwvU3QkQj1aBirBOEmtuuMDb4CcJVxZ9rwyPfYIdAlxp6Um69jPTAInhkmjrx5DQ]
    status: {code: 200, message: OK}
- request:
    body: "--===============5915093602066697432==\r\ncontent-type: application/json;
      charset=UTF-8\r\n\r\n{\"name\": \"test_write_then_append_then_read_file/result\"}\r\n--===============5915093602066697432==\r\ncontent-type:
      text/plain\r\n\r\nlorem ipsum dolor test_write_then_read_file \xE1\r\n--===============5915093602066697432==--"
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['303']
      User-Agent: [python-requests/2.20.1]
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT01OTE1MDkzNjAyMDY2
        Njk3NDMyPT0i
    method: POST
    uri: https://www.googleapis.com/upload/storage/v1/b/testingarchive/o?uploadType=multipart
  response:
    body: {string: "{\n \"kind\": \"storage#object\",\n \"id\": \"testingarchive/test_write_then_append_then_read_file/result/1566395143327872\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive/o/test_write_then_append_then_read_file%2Fresult\",\n
        \"name\": \"test_write_then_append_then_read_file/result\",\n \"bucket\":
        \"testingarchive\",\n \"generation\": \"1566395143327872\",\n \"metageneration\":
        \"1\",\n \"contentType\": \"text/plain\",\n \"timeCreated\": \"2019-08-21T13:45:43.327Z\",\n
        \"updated\": \"2019-08-21T13:45:43.327Z\",\n \"storageClass\": \"STANDARD\",\n
        \"timeStorageClassUpdated\": \"2019-08-21T13:45:43.327Z\",\n \"size\": \"46\",\n
        \"md5Hash\": \"NwIf46EiCcnfaot9N+GaBQ==\",\n \"mediaLink\": \"https://www.googleapis.com/download/storage/v1/b/testingarchive/o/test_write_then_append_then_read_file%2Fresult?generation=1566395143327872&alt=media\",\n
        \"crc32c\": \"fChI7w==\",\n \"etag\": \"CICh4tCMlOQCEAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['no-cache, no-store, max-age=0, must-revalidate']
      Content-Length: ['856']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 13:45:43 GMT']
      ETag: [CICh4tCMlOQCEAE=]
      Expires: ['Mon, 01 Jan 1990 00:00:00 GMT']
      Pragma: [no-cache]
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2Uqgr8zlpvQzuq9-kkpFLvC_35sJp1AXvxAv94ZmY51PfVcLvuw0gMdHgmL_J7KN3Ty76mGkrbvt_rHkMBZsgRpNsCq5wg]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: [gzip]
      Connection: [keep-alive]
      User-Agent: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
      X-Goog-API-Client: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive?projection=noAcl
  response:
    body: {string: "{\n \"kind\": \"storage#bucket\",\n \"id\": \"testingarchive\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive\",\n
        \"projectNumber\": \"testa6bzzpt4\",\n \"name\": \"testingarchive\",\n \"timeCreated\":
        \"2019-08-14T22:57:54.537Z\",\n \"updated\": \"2019-08-14T22:57:54.537Z\",\n
        \"metageneration\": \"1\",\n \"iamConfiguration\": {\n  \"bucketPolicyOnly\":
        {\n   \"enabled\": false\n  },\n  \"uniformBucketLevelAccess\": {\n   \"enabled\":
        false\n  }\n },\n \"location\": \"US\",\n \"locationType\": \"multi-region\",\n
        \"storageClass\": \"STANDARD\",\n \"etag\": \"CAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['private, max-age=0, must-revalidate, no-transform']
      Content-Length: ['525']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 13:45:43 GMT']
      ETag: [CAE=]
      Expires: ['Wed, 21 Aug 2019 13:45:43 GMT']
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2UqeXKu2fYod6ntg4ZYJwYqK0mLGijrqSxkEdNk72Q88wd5EdiQ7mOqBUpLU5ql7x1_nytleemrxxb2b6-HZTKmjjAqi5w]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.20.1]
      accept-encoding: [gzip]
    method: GET
    uri: https://www.googleapis.com/download/storage/v1/b/testingarchive/o/test_write_then_append_then_read_file%2Fresult?alt=media
  response:
    body: {string: "lorem ipsum dolor test_write_then_read_file \xE1"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['no-cache, no-store, max-age=0, must-revalidate']
      Content-Disposition: [attachment]
      Content-Length: ['46']
      Content-Type: [text/plain]
      Date: ['Wed, 21 Aug 2019 13:45:43 GMT']
      ETag: [CICh4tCMlOQCEAE=]
      Expires: ['Mon, 01 Jan 1990 00:00:00 GMT']
      Pragma: [no-cache]
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2Upa9SzN-R4MBQyM72CFZbvtBHROEEUdAiQvnbgqQAGsKKCL__Kj_ucMu5eoQFmaSlh0bN9vVm4K02bh5Y9xnSmPn6bO_g]
      X-Goog-Generation: ['1566395143327872']
      X-Goog-Hash: ['crc32c=fChI7w==,md5=NwIf46EiCcnfaot9N+GaBQ==']
      X-Goog-Metageneration: ['1']
      X-Goog-Storage-Class: [STANDARD]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: [gzip]
      Connection: [keep-alive]
      User-Agent: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
      X-Goog-API-Client: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive?projection=noAcl
  response:
    body: {string: "{\n \"kind\": \"storage#bucket\",\n \"id\": \"testingarchive\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive\",\n
        \"projectNumber\": \"testa6bzzpt4\",\n \"name\": \"testingarchive\",\n \"timeCreated\":
        \"2019-08-14T22:57:54.537Z\",\n \"updated\": \"2019-08-14T22:57:54.537Z\",\n
        \"metageneration\": \"1\",\n \"iamConfiguration\": {\n  \"bucketPolicyOnly\":
        {\n   \"enabled\": false\n  },\n  \"uniformBucketLevelAccess\": {\n   \"enabled\":
        false\n  }\n },\n \"location\": \"US\",\n \"locationType\": \"multi-region\",\n
        \"storageClass\": \"STANDARD\",\n \"etag\": \"CAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['private, max-age=0, must-revalidate, no-transform']
      Content-Length: ['525']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 13:45:44 GMT']
      ETag: [CAE=]
      Expires: ['Wed, 21 Aug 2019 13:45:44 GMT']
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2UqPiSsx-JvaWrvGaD5WZo3ETkUv3hvLItXz5iWWhlx_R4081eKrD3dDlIlz7RrnAod06UlbJ-k-RKTZ06HS_BpT5AlL-Q]
    status: {code: 200, message: OK}
- request:
    body: "--===============8509272753179004942==\r\ncontent-type: application/json;
      charset=UTF-8\r\n\r\n{\"name\": \"test_write_then_append_then_read_file/result\"}\r\n--===============8509272753179004942==\r\ncontent-type:
      text/plain\r\n\r\nlorem ipsum dolor test_write_then_read_file \xE1\nmom, look
      at me, appending data\r\n--===============8509272753179004942==--"
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['335']
      User-Agent: [python-requests/2.20.1]
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT04NTA5MjcyNzUzMTc5
        MDA0OTQyPT0i
    method: POST
    uri: https://www.googleapis.com/upload/storage/v1/b/testingarchive/o?uploadType=multipart
  response:
    body: {string: "{\n \"kind\": \"storage#object\",\n \"id\": \"testingarchive/test_write_then_append_then_read_file/result/1566395144403554\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive/o/test_write_then_append_then_read_file%2Fresult\",\n
        \"name\": \"test_write_then_append_then_read_file/result\",\n \"bucket\":
        \"testingarchive\",\n \"generation\": \"1566395144403554\",\n \"metageneration\":
        \"1\",\n \"contentType\": \"text/plain\",\n \"timeCreated\": \"2019-08-21T13:45:44.403Z\",\n
        \"updated\": \"2019-08-21T13:45:44.403Z\",\n \"storageClass\": \"STANDARD\",\n
        \"timeStorageClassUpdated\": \"2019-08-21T13:45:44.403Z\",\n \"size\": \"78\",\n
        \"md5Hash\": \"2ZHHydzODH4vKBId3j4IxA==\",\n \"mediaLink\": \"https://www.googleapis.com/download/storage/v1/b/testingarchive/o/test_write_then_append_then_read_file%2Fresult?generation=1566395144403554&alt=media\",\n
        \"crc32c\": \"iGpjfQ==\",\n \"etag\": \"COL0o9GMlOQCEAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['no-cache, no-store, max-age=0, must-revalidate']
      Content-Length: ['856']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 13:45:44 GMT']
      ETag: [COL0o9GMlOQCEAE=]
      Expires: ['Mon, 01 Jan 1990 00:00:00 GMT']
      Pragma: [no-cache]
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2Uq3K6ON5Ojc82bUZExfqeKZV8sKwxmy4hwtM30K3KA1E0w4GZVsoG8qg9E21yQUX1x0isct9vkisoYmn0kE1PontkSSww]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: [gzip]
      Connection: [keep-alive]
      User-Agent: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
      X-Goog-API-Client: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive?projection=noAcl
  response:
    body: {string: "{\n \"kind\": \"storage#bucket\",\n \"id\": \"testingarchive\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive\",\n
        \"projectNumber\": \"testa6bzzpt4\",\n \"name\": \"testingarchive\",\n \"timeCreated\":
        \"2019-08-14T22:57:54.537Z\",\n \"updated\": \"2019-08-14T22:57:54.537Z\",\n
        \"metageneration\": \"1\",\n \"iamConfiguration\": {\n  \"bucketPolicyOnly\":
        {\n   \"enabled\": false\n  },\n  \"uniformBucketLevelAccess\": {\n   \"enabled\":
        false\n  }\n },\n \"location\": \"US\",\n \"locationType\": \"multi-region\",\n
        \"storageClass\": \"STANDARD\",\n \"etag\": \"CAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['private, max-age=0, must-revalidate, no-transform']
      Content-Length: ['525']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 13:45:44 GMT']
      ETag: [CAE=]
      Expires: ['Wed, 21 Aug 2019 13:45:44 GMT']
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2Upc72PsYtEkxMgecEqipNbdhdwFpZV0JuDWgFR1eA4vgOU8Y2hCuiz3urgyBIkAq7o8vNzY-ootjFtaDVtNF3E2X2zi9w]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.20.1]
      accept-encoding: [gzip]
    method: GET
    uri: https://www.googleapis.com/download/storage/v1/b/testingarchive/o/test_write_then_append_then_read_file%2Fresult?alt=media
  response:
    body: {string: "lorem ipsum dolor test_write_then_read_file \xE1\nmom, look at
        me, appending data"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['no-cache, no-store, max-age=0, must-revalidate']
      Content-Disposition: [attachment]
      Content-Length: ['78']
      Content-Type: [text/plain]
      Date: ['Wed, 21 Aug 2019 13:45:45 GMT']
      ETag: [COL0o9GMlOQCEAE=]
      Expires: ['Mon, 01 Jan 1990 00:00:00 GMT']
      Pragma: [no-cache]
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2UqVwZZYtqnnl6zD4VA7Qy_ON0nXQL1c4LY04JeUelDFAmmKA2fSpLjtSJ_-u6SEu5rZAlSEBUIl-QBK8h-9IrNSTp3bYA]
      X-Goog-Generation: ['1566395144403554']
      X-Goog-Hash: ['crc32c=iGpjfQ==,md5=2ZHHydzODH4vKBId3j4IxA==']
      X-Goog-Metageneration: ['1']
      X-Goog-Storage-Class: [STANDARD]
    status: {code: 200, message: OK}
version: 1

interactions:
- request:
    body: assertion=eyJ0eXAiOiAiSldUIiwgImFsZyI6ICJSUzI1NiIsICJraWQiOiAiMzExYTAwMDU1NzNlYzhhNWZiY2QzZDViZTY0ODRkZWEyMWUzN2NkMSJ9.eyJpYXQiOiAxNTY2MzUxNjcyLCAiZXhwIjogMTU2NjM1NTI3MiwgImlzcyI6ICJjb2RlY292QGdlbnVpbmUtcG9seW1lci0xNjU3MTIuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCAiYXVkIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwgInNjb3BlIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZGV2c3RvcmFnZS5mdWxsX2NvbnRyb2wgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kZXZzdG9yYWdlLnJlYWRfb25seSBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RldnN0b3JhZ2UucmVhZF93cml0ZSJ9.AcDxHTOBXL8odC6rrXLei7X2r5Z-FA0Q6Zs8e6spTS6ix0DCMx9EFC2wggpvyRp0rdtAkOZ4t2Q4u_SbicsgsdlKl9s0AEzJg-kM4z2ZIOTF4sRc2oSYBbuz-wKw7lb5KrhO2aedkTgA8bH9Iyo9YyvAqWruUIcJcuPhELvZDNVHFuEyCB2yJpwAq5dFrLrWjPk1gGSu4She4ESpLBEykI8KPBn_HZebm9J49IpH0vyEVYYMKbQUPOfNyhQto10hClFEqfQGPdqY-ebawxfof3yppnq6oazh8A7F0Db2X3zYArzg5uyT2TPex-yyFZck28_LebX81bPPclcg-u3dtA&grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['959']
      User-Agent: [python-requests/2.20.1]
      content-type: [application/x-www-form-urlencoded]
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/x3Ouw6CMBQA0N2vIJ2NaagvHCEENFpfvHRpmksNiEptUQHjvxtYz3S+A8NAHEBo
        zaqyEA+0MFDDTWsEI/c2Ufa83njysCMAV/xp6Uea6VK5M2dXUhq9M6dmHrH3QTXOZkRe8uMqTlYp
        3YDjJVGhk0lYTGmxPYHy2/taus8Xs8f+81xFzjl589qM/SCLoZ1jK3TTB77tcexbYOYlp2jY5UQt
        cyU0y7samWLca39lVSNFF7YFV0Khwe8Pj5rKvM8AAAA=
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: [private]
      Content-Encoding: [gzip]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 21 Aug 2019 01:41:12 GMT']
      Server: [scaffolding on HTTPServer2]
      Transfer-Encoding: [chunked]
      Vary: [Origin, X-Origin, Referer]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-XSS-Protection: ['0']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: [gzip]
      Connection: [keep-alive]
      User-Agent: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
      X-Goog-API-Client: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive?projection=noAcl
  response:
    body: {string: "{\n \"kind\": \"storage#bucket\",\n \"id\": \"testingarchive\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive\",\n
        \"projectNumber\": \"testa6bzzpt4\",\n \"name\": \"testingarchive\",\n \"timeCreated\":
        \"2019-08-14T22:57:54.537Z\",\n \"updated\": \"2019-08-14T22:57:54.537Z\",\n
        \"metageneration\": \"1\",\n \"iamConfiguration\": {\n  \"bucketPolicyOnly\":
        {\n   \"enabled\": false\n  },\n  \"uniformBucketLevelAccess\": {\n   \"enabled\":
        false\n  }\n },\n \"location\": \"US\",\n \"locationType\": \"multi-region\",\n
        \"storageClass\": \"STANDARD\",\n \"etag\": \"CAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['private, max-age=0, must-revalidate, no-transform']
      Content-Length: ['525']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 01:41:12 GMT']
      ETag: [CAE=]
      Expires: ['Wed, 21 Aug 2019 01:41:12 GMT']
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2Ur-DraF4rydxmzZ3uqXzi_5ChNlKqLPTjeLBiZqXltPlnrcqkqBURLTvwRf0_OjQt4xktDhOi4fkUIYblxHLnS4a8BTJw]
    status: {code: 200, message: OK}
- request:
    body: "--===============4725758349306579498==\r\ncontent-type: application/json;
      charset=UTF-8\r\n\r\n{\"name\": \"test_write_then_read_file/result\"}\r\n--===============4725758349306579498==\r\ncontent-type:
      text/plain\r\n\r\nlorem ipsum dolor test_write_then_read_file \xE1\r\n--===============4725758349306579498==--"
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['291']
      User-Agent: [python-requests/2.20.1]
      content-type:
      - !!binary |
        bXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSI9PT09PT09PT09PT09PT00NzI1NzU4MzQ5MzA2
        NTc5NDk4PT0i
    method: POST
    uri: https://www.googleapis.com/upload/storage/v1/b/testingarchive/o?uploadType=multipart
  response:
    body: {string: "{\n \"kind\": \"storage#object\",\n \"id\": \"testingarchive/test_write_then_read_file/result/1566351673105330\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive/o/test_write_then_read_file%2Fresult\",\n
        \"name\": \"test_write_then_read_file/result\",\n \"bucket\": \"testingarchive\",\n
        \"generation\": \"1566351673105330\",\n \"metageneration\": \"1\",\n \"contentType\":
        \"text/plain\",\n \"timeCreated\": \"2019-08-21T01:41:13.105Z\",\n \"updated\":
        \"2019-08-21T01:41:13.105Z\",\n \"storageClass\": \"STANDARD\",\n \"timeStorageClassUpdated\":
        \"2019-08-21T01:41:13.105Z\",\n \"size\": \"46\",\n \"md5Hash\": \"NwIf46EiCcnfaot9N+GaBQ==\",\n
        \"mediaLink\": \"https://www.googleapis.com/download/storage/v1/b/testingarchive/o/test_write_then_read_file%2Fresult?generation=1566351673105330&alt=media\",\n
        \"crc32c\": \"fChI7w==\",\n \"etag\": \"CLK3xtjqkuQCEAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['no-cache, no-store, max-age=0, must-revalidate']
      Content-Length: ['808']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 01:41:13 GMT']
      ETag: [CLK3xtjqkuQCEAE=]
      Expires: ['Mon, 01 Jan 1990 00:00:00 GMT']
      Pragma: [no-cache]
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2UrFMxZZK0VNtNZLfbE9aU_yaE358f1o4soddygVE4YHeOjLZ9FryLW4S18zkSBepHULfN5Mx_B_hCHsW1xzI6FWhVYBeg]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: [gzip]
      Connection: [keep-alive]
      User-Agent: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
      X-Goog-API-Client: [gl-python/3.7.3 gax/1.14.2 gapic/1.18.0 gccl/1.18.0]
    method: GET
    uri: https://www.googleapis.com/storage/v1/b/testingarchive?projection=noAcl
  response:
    body: {string: "{\n \"kind\": \"storage#bucket\",\n \"id\": \"testingarchive\",\n
        \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testingarchive\",\n
        \"projectNumber\": \"testa6bzzpt4\",\n \"name\": \"testingarchive\",\n \"timeCreated\":
        \"2019-08-14T22:57:54.537Z\",\n \"updated\": \"2019-08-14T22:57:54.537Z\",\n
        \"metageneration\": \"1\",\n \"iamConfiguration\": {\n  \"bucketPolicyOnly\":
        {\n   \"enabled\": false\n  },\n  \"uniformBucketLevelAccess\": {\n   \"enabled\":
        false\n  }\n },\n \"location\": \"US\",\n \"locationType\": \"multi-region\",\n
        \"storageClass\": \"STANDARD\",\n \"etag\": \"CAE=\"\n}\n"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['private, max-age=0, must-revalidate, no-transform']
      Content-Length: ['525']
      Content-Type: [application/json; charset=UTF-8]
      Date: ['Wed, 21 Aug 2019 01:41:13 GMT']
      ETag: [CAE=]
      Expires: ['Wed, 21 Aug 2019 01:41:13 GMT']
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2UrwhGQR7iXStQIwriuS1VBu7CFa3RSQEl5QByqNT2Dvd3baM-hVF7s2mAW2eRio_jJ3JzmjpPIKaqwO7PL2523hUPvFwA]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.20.1]
      accept-encoding: [gzip]
    method: GET
    uri: https://www.googleapis.com/download/storage/v1/b/testingarchive/o/test_write_then_read_file%2Fresult?alt=media
  response:
    body: {string: "lorem ipsum dolor test_write_then_read_file \xE1"}
    headers:
      Alt-Svc: ['quic=":443"; ma=2592000; v="46,43,39"']
      Cache-Control: ['no-cache, no-store, max-age=0, must-revalidate']
      Content-Disposition: [attachment]
      Content-Length: ['46']
      Content-Type: [text/plain]
      Date: ['Wed, 21 Aug 2019 01:41:13 GMT']
      ETag: [CLK3xtjqkuQCEAE=]
      Expires: ['Mon, 01 Jan 1990 00:00:00 GMT']
      Pragma: [no-cache]
      Server: [UploadServer]
      Vary: [Origin, X-Origin]
      X-GUploader-UploadID: [AEnB2Urwba9nLlQTfleyZs0lvDv704FSWbFEXYzlnlwYrxrWmfckdB1Ou49lZAyIGKQ6FBZVWbUIGXMcNDkgFOqRcM7b3Mm1BA]
      X-Goog-Generation: ['1566351673105330']
      X-Goog-Hash: ['crc32c=fChI7w==,md5=NwIf46EiCcnfaot9N+GaBQ==']
      X-Goog-Metageneration: ['1']
      X-Goog-Storage-Class: [STANDARD]
    status: {code: 200, message: OK}
version: 1
